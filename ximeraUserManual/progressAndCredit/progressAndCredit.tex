\documentclass{ximera}
\title{Progress and credit}
\author{Jason Nowell}

\begin{document}
\begin{abstract}
    How Ximera assigns progress to students as they complete an
    assignment.
\end{abstract}
\maketitle

For each distinct URL assigned, including an entire \verb!xourse! file, Ximera
reports a number between $0$ and $1$ with $1$ representing ``complete.''

\section{Progress within a Ximera file}

The total progress of a given Ximera file is broken up evenly with top level
environment.
For example, let's say you have the following Ximera document:

\begin{verbatim}
\documentclass{ximera}
\title{An Example Document}
\author{Jane Doe}
\begin{document}
\begin{abstract}
An example to help understand progress.
\end{abstract}
\maketitle

\begin{theorem}
If $x$ is a real number with $x=1$, then $x+x = 2$.
\end{theorem}

\begin{question}
In order to apply the theorem, $x$ must be
(select all that apply):
\begin{selectAll}
    \choice{A variable.}
    \choice[correct]{A real number.}
    \choice{An arbitrary constant.}
    \choice[correct]{Equal to $1$.}
    \choice{Trick question, $x$ is a letter.}
    \end{selectAll}
    \begin{problem}
    What does the theorem conclude that $x+x$ equals?
    \[
    x + x = \answer{2}
    \]
    \end{problem}
\end{question}
 
\begin{remark}
We have the theorem given to us, and it has two parts,
the ``if'' statement that sets the necessary hypotheses 
to apply the theorem, and the ``then'' statement which 
tells us the result.
\end{remark}

\begin{problem}
Compute $1+2$.
\[
1+2=\answer{3}
\]
\end{problem}
\end{document}
\end{verbatim}

Above there are four top level theorem environments above: A \verb!theorem!,
\verb!question!, \verb!remark!, and \verb!problem!. Each of these is worth
$25\%$ of the total credit.  The breakdown of points is described below:

\begin{description}
    \item[Theorem environment] Worth 25\% contingent on completion.
        \begin{description}
            \item[No answerables] Automatically flagged as complete.
        \end{description}
    \item[Question environment] Worth 25\% contingent on completion.
        \begin{description}
            \item[selectAll] Sub-environment worth 50\% of the enclosing
                environment contingent on completion.
            \item[Problem environment] Sub-environment Worth 50\% of the
                enclosing environment contingent on completion.
        \end{description}
    \item[Remark environment] Worth 25\% contingent on
        completion.
        \begin{description}
            \item[No answerables] Automatically flagged as complete.
        \end{description}
    \item[Problem environment] Worth 25\% contingent on completion.
\end{description}

In table form:
\[
    \begin{array}{lcc}
        \text{Environment} & \text{Problem Level Credit} & \text{Total Credit}
        \\\hline
        \text{Theorem}     &                             & 25\%                \\
        \text{Question}    &                             & 25\%                \\
        \text{selectAll}   & 50\%                        & 12.5\%              \\
        \text{Sub-Problem} & 50\%                        & 12.5\%              \\
        \text{Remark}      &                             & 25\%                \\
        \text{Problem}     &                             & 25\%                \\
        \text{answerBox}   & 100\%                       & 25\%
    \end{array}
\]
So, there are three things to notice here.

\begin{enumerate}
    \item Environments that don't have answerables automatically
          give credit as soon as the page is loaded. This also means that a
          large portion of the tile's credit could (theoretically) be given just for loading the page,
          without doing anything. Getting some credit for loading the page doesn't seem to result in less effort spent on the page.
    \item Only environments give credit. All answerables \textbf{must} be in an environment.
    \item Since credit is split evenly
          \textbf{at the top-level environment count only}, problems with lots
          of parts, nested or not, can end up with nested problems that are worth
          significantly less compared to a problem that has no nested problems. 
\end{enumerate}

\section{Progress within a \texttt{xourse}}

Credit for a \verb!xourse! is split evenly between all Ximera activites listed in the \verb!xourse!.

\end{document}